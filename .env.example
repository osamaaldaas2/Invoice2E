# Supabase Configuration
# Get these from: https://app.supabase.com/project/[project-id]/settings/api
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=..your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=...your_service_role_key_here

# Supabase JWT Secret (REQUIRED for RLS-based data isolation)
# Get from: https://app.supabase.com/project/[project-id]/settings/api (under "JWT Settings")
# This is used to sign JWTs for user-scoped database clients.
# CRITICAL: Never use service-role key for user-facing data access - it bypasses RLS.
SUPABASE_JWT_SECRET=your_jwt_secret_from_supabase_settings

# AI Provider Configuration
# Options: gemini (recommended) | openai | mistral (EU-hosted)
AI_PROVIDER=gemini

# Gemini API Key
# Get from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=AIzaSy...your_actual_gemini_api_key_here
# Gemini Model (optional - defaults to gemini-2.5-flash)
# GEMINI_MODEL=gemini-2.5-flash
# Boundary detection model (optional - defaults to gemini-2.5-flash)
# Use a smarter model here for accurate page splitting, even if extraction uses a cheaper model
# GEMINI_BOUNDARY_MODEL=gemini-2.5-flash
# Gemini thinking budget (optional - defaults to 4096). Set to 0 to disable thinking.
# GEMINI_THINKING_BUDGET=4096

# OpenAI API Key
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...your_openai_api_key_here
# OpenAI Model (optional - defaults to gpt-4.1-mini)
# OPENAI_MODEL=gpt-4.1-mini
# OpenAI API URL (optional - defaults to https://api.openai.com/v1/chat/completions)
# OPENAI_API_URL=https://api.openai.com/v1/chat/completions

# Mistral AI (EU-hosted, DSGVO-compliant)
# Get from: https://console.mistral.ai/api-keys
# Also used for image OCR (PNG/JPG invoices) when other providers are primary
MISTRAL_API_KEY=your_mistral_api_key_here
# Mistral Chat Model (optional - defaults to mistral-small-latest)
# MISTRAL_MODEL=mistral-small-latest
# Mistral OCR Model (optional - defaults to mistral-ocr-latest)
# Used for image text extraction (PNG/JPG invoices)
# MISTRAL_OCR_MODEL=mistral-ocr-latest
# Mistral API URL (optional - defaults to https://api.mistral.ai)
# MISTRAL_API_URL=https://api.mistral.ai

# Stripe (Payment Processing)
# Get from: https://dashboard.stripe.com/apikeys
STRIPE_PUBLISHABLE_KEY=pk_test_...your_stripe_publishable_key_here
STRIPE_SECRET_KEY=sk_test_...your_stripe_secret_key_here

# PayPal (Optional - Phase 2)
# Get from: https://developer.paypal.com/dashboard
#PAYPAL_CLIENT_ID=your_paypal_client_id_here
#PAYPAL_SECRET_KEY=your_paypal_secret_key_here

# Brevo (Email Service)
# Get from: https://app.brevo.com/settings/keys/smtp
BREVO_API_KEY=your-brevo-api-key-here
BREVO_FROM_EMAIL=noreply@invoice2e.de
BREVO_FROM_NAME=Invoice2E

# Application URLs
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Session Security
# Generate a random 64-character hex string for production:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SESSION_SECRET=your_64_character_random_hex_string_here

# Sentry Error Monitoring
# Get from: https://sentry.io/settings/projects/[project]/keys/
NEXT_PUBLIC_SENTRY_DSN=https://xxxx@xxxx.ingest.sentry.io/xxxx
SENTRY_DSN=https://xxxx@xxxx.ingest.sentry.io/xxxx

# Upstash Redis (Rate Limiting)
# Get from: https://console.upstash.com/
UPSTASH_REDIS_REST_URL=https://xxxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# Batch Worker Secret
# Used to authenticate internal batch worker requests
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
BATCH_WORKER_SECRET=your_batch_worker_secret_here

# CORS Configuration (comma-separated origins)
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://yourdomain.com

# Metrics Authentication (for Prometheus/Grafana scrapers)
# If set, /api/metrics requires Authorization: Bearer <token>
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
METRICS_AUTH_TOKEN=your_metrics_auth_token_here

# Log level: debug, info, warn, error (default: info in production, debug in development)
LOG_LEVEL=info

# Cron job authentication (for /api/cron/* endpoints)
CRON_SECRET=your-cron-secret-here